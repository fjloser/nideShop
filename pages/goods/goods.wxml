<!--pages/goods/goods.wxml-->
<view class="goods-container">
  <view class="custom-site">
    <view>
      <view class="site" bindtap="openSite" wx:if="{{!editFlag}}"><text class="iconfont">定位</text> {{site}}</view>
    </view>
    <view class="right-btn-box">
      <view class="edit" bindtap="edit">{{editMes}}</view>
      <view style="width: 50rpx">
        <view class="share-btn" wx:if="{{!editFlag}}">
          <text></text>
          <text></text>
          <text></text>
          <view class="share" wx:if="{{false}}">
            <text class="iconfont">分享</text> 分享好物
          </view>
        </view>
      </view>
    </view>
  </view>
  <view>
    <checkbox-group class="goods-box" bindchange="checkChange">
      <view class="goods-list goods-list{{item.goodsId}}" wx:for="{{goods}}" wx:key="index">
        <view class="goods-shop">店铺名</view>
        <view class="goods-wrapper">
          <view class="radio">
            <checkbox style="border-radius= 30rpx" model:checked="{{item.checked}}" value="{{item.good_id}}"></checkbox>
          </view>
          <view class="goods-mes-box">
            <view class="goods-image">
              <image src="{{item.img}}" wx:if="{{item.img}}" style="width: 100%; height: 100%">
              </image>
            </view>
            <view class="goods-info-box">
              <view class="goods-title">{{item.good_name}}</view>
              <view class="goods-size">
                <view class="sku-list" wx:for="{{item.sku}}" wx:for-index="index1" wx:for-item="item1" wx:key="index1">
                  {{item1}}
                </view>
                <view>×{{item.num}}</view>
              </view>
              <view class="goods-price">
                <view class="price">￥{{item.price}}</view>
                <view class="goods-num">
                  <text id="cut{{item.good_id}}" bindtap="cutGoodsNum">-</text>
                  <view class="select-num">
                    <input type="number" maxlength="4" value="{{item.num}}" bindblur="changeGoodsNum"
                      id="{{item.good_id}}" />
                  </view>
                  <text id="add{{item.good_id}}" bindtap="addGoodsNum">+</text>
                </view>
              </view>
            </view>
          </view>
        </view>
      </view>
    </checkbox-group>
    <view class="pay-box">
      <view class="check-box">
        <checkbox class="check-all" checked="{{checkAll}}" bindtap="selectAll"></checkbox>
        <text>全选</text>
      </view>
      <view class="all-price" wx:if="{{!editFlag}}">
        <text>总计</text>
        <text>:￥{{allPrice}}</text>
      </view>
      <view class="pay-btn" wx:if="{{!editFlag}}" bindtap="navToPay">去结算</view>
      <view class="remove-btn" wx:if="{{editFlag}}" bindtap="removeGoods">删除</view>
    </view>
  </view>
  <view class="select-site-box" wx:if="{{showSite}}">
    <div class="select-site-wrapper">
      <view class="close-btn" bindtap="closeSite">×</view>
      <view class="top-title">配送至</view>
      <scroll-view scroll-y="true" class="site-box">
        <radio-group bindchange="radioChange">
          <view class="site-list site-list{{index}}" wx:for="{{siteArr}}" wx:key="index">
            <view class="select">
              <radio name="site" color="red" style="width: 25rpx; height: 25rpx" value="{{item}}" />
            </view>
            <view class="select-site">{{item}}</view>
          </view>
        </radio-group>
      </scroll-view>
      <view class="select-btn" bindtap="selectSite">选择其它地址</view>
    </div>
  </view>
</view>